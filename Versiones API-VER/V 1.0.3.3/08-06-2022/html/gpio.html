<!DOCTYPE html>
<html lang="es">

<head>
  <title>
  IntegraID
  </title>
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" >
  							   
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

  
</head>

<body>
	<header>
		<div class="menu_bar">
			<a href="#" class="bt-menu">Integra</a>
		</div>
		<nav>
			<ul>
				<li><a href="index.html">Home </a></li>
				<li><a href="reports.html">Status</a></li>
				
				<li class="submenu">
					<a href="#">Configurations <span class="caret icon-arrow-down6"></a>
					<ul class="children">
						<li><a href="general_config.html">General</a></li>
						<li><a href="server_config.html">Connectivities</a></li>
						<li><a href="gpio.html">Inputs assignment</a></li>
					</ul>
				</li>
				<li><a href="contacts.html">About us</a></li>
				<li><a href="http://www.integraid.com" target="_blank">Integra Ingeniería y Diseño</a></li>
			</ul>
		</nav>
	</header>
	
	<div class="content-wrapper">
	    
	   
	    
	    <!-- Main content -->
	    <section class="content">
	        <!-- Default box -->
	        <div class="box box-solid" >
	            <div class="box-body">
	            	<form id="formIO" action="formIO" method="post">
	            	
	            	<input type="hidden" id="DoubleAxDet" name="DoubleAxDet" value="<!--CPPCALL WebConfigDoubleAxDet -->">
	            	
	            	<div class="panel panel-default">
						<div class="panel-heading" align="center"><h3> INPUTS ASSIGNMENT </h3></div>
						<div class="panel-body">  
	                		<div class="row">
		                    	<div class="col-md-4">
									<div class="box-body">
								    	<div class="row">
								    		<div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<h4> <strong>FIRST AXLES DETECTOR:</strong> </h4><br>
								                </div>
								            </div>
								    		<div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<div class="col-sm-4">
												     	<h5> <strong>SIGNAL:</strong> </h5>
												     </div>
								                	<div class="col-sm-4">
												     	<h5> <strong>DIGITAL INPUT:</strong> </h5><br>
												     </div>
								                </div>
								            </div>
								            
								        	<div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">Sys1:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Sys1" name="Sys1" min="1" max="18" onkeydown='return validate(event, "Sys1")' value="<!--CPPCALL WebConfigSys1 -->" required><br><br>
												    </div>
								                </div>
								            </div>
								            
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">Sys2:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Sys2" name="Sys2" onkeydown='return validate(event, "Sys2")' value="<!--CPPCALL WebConfigSys2 -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								            
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">Sys1':</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Sys1p" name="Sys1p" min="1" max="18" onkeydown='return validate(event, "Sys1p")' value="<!--CPPCALL WebConfigSys1p -->" required><br><br>
												    </div>
								                </div>
								            </div>
								            
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">Sys2':</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Sys2p" name="Sys2p" onkeydown='return validate(event, "Sys2p")' value="<!--CPPCALL WebConfigSys2p -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								    	</div>
									</div>
								</div>
								<div class="col-md-4">
									<div class="box-body">
								    	<div class="row">
								    		<div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<h4> <strong>GENERAL INPUTS:</strong> </h4><br>
								                </div>
								            </div>
								    		<div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<div class="col-sm-4">
												     	<h5> <strong>SIGNAL:</strong> </h5>
												     </div>
								                	<div class="col-sm-4">
												     	<h5> <strong>DIGITAL INPUT:</strong> </h5><br>
												     </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">LoopC_I:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="LoopC_I" name="LoopC_I" onkeydown='return validate(event, "InC_I")' value="<!--CPPCALL WebConfigInC_I -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">LoopO:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="LoopO" name="LoopO" onkeydown='return validate(event, "InO")' value="<!--CPPCALL WebConfigInO -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">DcOk1:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="DcOk1" name="DcOk1" onkeydown='return validate(event, "DcOk1")' value="<!--CPPCALL WebConfigDcOk1 -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">DcOk2:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="DcOk2" name="DcOk2" onkeydown='return validate(event, "DcOk2")' value="<!--CPPCALL WebConfigDcOk2 -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">AcOk1:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="AcOk1" name="AcOk1" onkeydown='return validate(event, "AcOk1")' value="<!--CPPCALL WebConfigAcOk1 -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">AcOk2:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="AcOk2" name="AcOk2" onkeydown='return validate(event, "AcOk2")' value="<!--CPPCALL WebConfigAcOk2 -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">Bat1:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Bat1" name="Bat1" onkeydown='return validate(event, "Bat1")' value="<!--CPPCALL WebConfigBat1 -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">Bat2:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Bat2" name="Bat2" onkeydown='return validate(event, "Bat2")' value="<!--CPPCALL WebConfigBat2 -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">Door:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Door" name="Door" onkeydown='return validate(event, "Door")' value="<!--CPPCALL WebConfigDoor -->" min="1" max="18" required>
	        											<br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" class="col-sm-4 col-form-label">Free:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Free" name="Free" onkeydown='return validate(event, "Free")' value="<!--CPPCALL WebConfigFree -->" min="1" max="18" required>
	        											<br><br>
												    </div>
								                </div>
								            </div>
								    	</div>
									</div>
								</div>
								<div class="col-md-4">
									<div class="box-body">
								    	<div class="row">
								    		<div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<h4> <strong>SECOND AXLES DETECTOR:</strong> </h4><br>
								                </div>
								            </div>
								    		<div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<div class="col-sm-4">
												     	<h5> <strong>SIGNAL:</strong> </h5>
												     </div>
								                	<div class="col-sm-4">
												     	<h5> <strong>DIGITAL INPUT:</strong> </h5><br>
												     </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="expediente" id ="lbSys1n" class="col-sm-4 col-form-label">/Sys1:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Sys1n" name="Sys1n" min="1" max="18" onkeydown='return validate(event, "Sys1n")' value="<!--CPPCALL WebConfigSys1n -->" required><br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="Sys2n" id ="lbSys2n" class="col-sm-4 col-form-label">/Sys2:</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Sys2n" name="Sys2n" onkeydown='return validate(event, "Sys2n")' value="<!--CPPCALL WebConfigSys2n -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								             <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="Sys1np" id ="lbSys1np" class="col-sm-4 col-form-label">/Sys1':</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Sys1np" name="Sys1np" onkeydown='return validate(event, "Sys1np")' value="<!--CPPCALL WebConfigSys1np -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								            <div class="col-md-12">
								            	<div class="form-group" align="center">
								                	<label for="Sys2np" id ="lbSys2np" class="col-sm-4 col-form-label">/Sys2':</label>
								                	<div class="col-sm-4">
												     	<input type="number" class="form-control" id="Sys2np" name="Sys2np" onkeydown='return validate(event, "Sys2np")' value="<!--CPPCALL WebConfigSys2np -->" min="1" max="18" required><br><br>
												    </div>
								                </div>
								            </div>
								    	</div>
									</div>
								</div>
			                </div>
			                <div class="row">
			                	<div class="col-md-12">
									<div class="form-group" align="center">
					                	<br>
					                	<br>
					                    <input id="openButton" type = "button" class="btn btn-primary" onclick = 'sendAction(event, "open", "formIO", "open_close")' value = "Open Configurations">
										<button id="saveButton" class="btn btn-success" type="submit">Save</button>
										<br>
										<input id="cancelButton" type = "button" class="btn btn-danger" onclick = "location.reload()" value = "Cancel">
									</div>
								</div>
			                </div>
		        		</div>
					</div>
	                </form>
	            </div>
	            <!-- /.box-body -->
	        </div>
	        <!-- /.box -->
	    </section>
	    <!-- /.content -->
	</div>
</body>

<script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/menuResponsive.js"> </script>

<script>
	var openConfig;
	//var doubleAx;
	
	window.onload = function () {
		/*if(document.getElementById("DoubleAxDet").value == "checked"){
			doubleAx = true;
			document.getElementById('lbSys1n').innerHTML = '/Sys1:';
			document.getElementById('lbSys1np').innerHTML = '/Sys1\':';
			document.getElementById('lbSys2n').innerHTML = 'Sys2n:';
			document.getElementById('lbSys2np').innerHTML = '/Sys2\':';
		}else{
			doubleAx = false;
		}*/
		disableAtt();
   	}
	
	function validate(e, input){
		var x = e || window.event;
		var key = (x.keyCode || x.which);
		if(key == 13 || key == 3){
			if( document.getElementById( input ).checkValidity() == false) {
				document.getElementById(input).style.outline = "2px solid red";
			}else{
				document.getElementById(input).style.outline = "";
			}
		}
	}
	
	function sendAction(evt, actionVal, formVal, url) {
		if(!openConfig){
		  	evt.preventDefault();
	        var datos = {action:actionVal, form: formVal};  //Serializamos sus datos
	        
		  	$.ajax({
	            url: url,    //Leerá la url en la etiqueta action del formulario (archivo.php)
	            method: "POST", //Leerá el método en etiqueta method del formulario
	            data: datos,                //Variable serializada más arriba
	            success:function(datos){ //success es una funcion que se utiliza si el servidor retorna informacion
			         console.log(datos)
			    }
	        });
	        enableAtt();
	    }
	}
	
	function enableAtt(){
		openConfig = true;
		
		document.getElementById("openButton").style.display = "none";
		document.getElementById("saveButton").style.display = "block";
		document.getElementById("cancelButton").style.display = "block";
		document.getElementById("Sys1").disabled = false;
		document.getElementById("Sys1p").disabled = false;
		
		//if(doubleAx){
			document.getElementById("Sys1n").disabled = false;
			document.getElementById("Sys1np").disabled = false;
			document.getElementById("Sys2n").disabled = false;
			document.getElementById("Sys2np").disabled = false;
		//}
		
		document.getElementById("Sys2").disabled = false;
		document.getElementById("Sys2p").disabled = false;
		document.getElementById("LoopC_I").disabled = false;
		document.getElementById("LoopO").disabled = false;
		document.getElementById("DcOk1").disabled = false;
		document.getElementById("DcOk2").disabled = false;
		document.getElementById("AcOk1").disabled = false;
		document.getElementById("Bat1").disabled = false;
		document.getElementById("AcOk2").disabled = false;
		document.getElementById("Bat2").disabled = false;
		document.getElementById("Door").disabled = false;
		document.getElementById("Free").disabled = false;
	}
	
	function disableAtt(){
		openConfig = false;
		
		document.getElementById("openButton").style.display = "block";
		document.getElementById("saveButton").style.display = "none";
		document.getElementById("cancelButton").style.display = "none";
		document.getElementById("Sys1").disabled = true;
		document.getElementById("Sys1p").disabled = true;
		
		document.getElementById("Sys1n").disabled = true;
		document.getElementById("Sys1np").disabled = true;
		document.getElementById("Sys2n").disabled = true;
		document.getElementById("Sys2np").disabled = true;
		
		document.getElementById("Sys2").disabled = true;
		document.getElementById("Sys2p").disabled = true;
		document.getElementById("LoopC_I").disabled = true;
		document.getElementById("LoopO").disabled = true;
		document.getElementById("DcOk1").disabled = true;
		document.getElementById("DcOk2").disabled = true;
		document.getElementById("AcOk1").disabled = true;
		document.getElementById("Bat1").disabled = true;
		document.getElementById("AcOk2").disabled = true;
		document.getElementById("Bat2").disabled = true;
		document.getElementById("Door").disabled = true;
		document.getElementById("Free").disabled = true;
	}

</script>

</html>