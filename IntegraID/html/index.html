<html>
<head>
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, charset=UTF-8">
  							   
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/fonts.css">
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
  <!--<link rel="stylesheet" type="text/css" href="css/font-awesome/css/font-awesome.min.css">-->

  <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <script src="http://code.jquery.com/jquery-latest.js"></script>

  <title>
  IntegraID
  </title>
</head>

<body>
	<header>
		<div class="menu_bar">
			<a href="#" class="bt-menu"><span class="icon-menu"></span>Integra</a>
		</div>
 
		<nav>
			<ul>
				<li><a href="#"><span class="icon-home3"></span>Inicio</a></li>
				<li><a href="#"><span class="icon-office"></span>Nuestra Empresa</a></li>
				<li class="submenu">
					<a href="#"><span class="icon-cart"></span>Productos y Proyectos<span class="caret icon-arrow-down6"></span></a>
					<ul class="children">
						<li><a href="#">Producto 1 <span class="home3"></span></a></li>
						<li><a href="#">Producto 2 <span class="home3"></span></a></li>
						<li><a href="#">Producto 3 <span class="home3"></span></a></li>
					</ul>
				</li>
				<li class="submenu">
					<a href="#"><span class="icon-earth"></span>Servicios<span class="caret icon-arrow-down6"></span></a>
					<ul class="children">
						<li><a href="#">Servicio 1 <span class="home3"></span></a></li>
						<li><a href="#">Servicio 2 <span class="home3"></span></a></li>
						<li><a href="#">Servicio 3 <span class="home3"></span></a></li>
					</ul>
				</li>
				<li><a href="#"><span class="icon-address-book"></span>Contacto</a></li>
				<li><a href="#"><span class="icon-enter"></span>Integra Ingeniería y Diseño</a></li>
			</ul>
		</nav>
	</header>
		
		
<div class="jumbotron text-center">
  <h1>Integra Ingeniería y Diseño</h1>
  <p>Mar Mediterraneo No.176, Col. Popotla 11400 México D.F.
Tel. (52) 55 5341-0709
Email: info@integraid.com</p>
<img src="img/integra.jpg" class="img-rounded" alt="Cinque Terre">
<p id="hora"></p>
</div>


<div class="container">
  <div class="row">
    <div class="col-sm-4">
      <h3>ESTADO ANTERIOR:</h3>
      <p id="datos"></p>
    </div>
    <div class="col-sm-4">
      <h3>ESTADO ACTUAL</h3>
      <p id="datos2"></p>
    </div>
    <div class="col-sm-4">
      <h3>ESTADO A REPORTAR</h3>
      <p id="datos3"></p>
    </div>
  </div>
</div>

    <!--<FORM ACTION="filepost.html" enctype="multipart/form-data" METHOD=POST>
        File to process: <INPUT NAME="userfile1" TYPE="file">
        <BR>
        <INPUT TYPE="submit" VALUE="Send File">
    </FORM>-->
    
<br>
<br>
<br>

<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h3>
        FECHA Y HORA
        <small>Administración</small>
        </h3>
    </section>
    <!-- Main content -->
    <section class="content">
        <!-- Default box -->
        <div class="box box-solid">
            <div class="box-body">
                <div class="row">
                    <div class="col-md-12">
						<form action="form1" method=post> 
							<div class="box-body">
						    	<div class="row">
						        	<div class="col-md-4">
						            	<div class="form-group" align="center">
						                	<label for="expediente">FECHA:</label><br>
						                    <input type="date" style=" width:300px;height:30px" step="1" class="form-control" id="fecha"  name="fecha" required>
						                </div>
						            </div>
						    	</div>
							</div>
							
							<div class="box-body">
						    	<div class="row">
						        	<div class="col-md-4">
						                <div class="form-group" align="center">
						                    <label for="curp">HORA:</label><br>
						                    <input type="time" style=" width:300px;height:30px"  step="1" class="form-control" id="hora" name="hora" required>
						                </div>
						           </div>
						    	</div>
							</div>
							
							<div class="box-body">
						    	<div class="row">
						           <div class="col-md-4">
						                <div class="form-group" align="center">
						                    <button type="submit" class="btn btn-primary"><i class="fa fa-floppy-o" aria-hidden="true"></i>Guardar</button>
						                </div>
						           </div>
						    	</div>
							</div>
						</form>
						    
						    <br>
						    <br>
						    
						<div class="alert alert-danger alert-dismissible">
						    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
						    <p><i class="icon fa fa-ban"></i>Para el uso de hora UTC se requiere acceso a internet</p>
						</div>
						    <form action="form2" method=post>
						    	<div class="box-body">
							    	<div class="row">
							           <div class="col-md-4">
							                <div class="form-group" align="center">
							                    <button type="submit" class="btn btn-primary"><i class="fa fa-floppy-o" aria-hidden="true"></i>Guardar</button>
							                </div>
							           </div>
							    	</div>
								</div>
						    </form>
                    </div>
                </div>
            </div>
            <!-- /.box-body -->
        </div>
        <!-- /.box -->

    </section>
    <!-- /.content -->
</div>

</body>

<script>
$(document).ready(main);
 
var contador = 1;
 
function main () {
	$('.menu_bar').click(function(){
		if (contador == 1) {
			$('nav').animate({
				left: '0'
			});
			contador = 0;
		} else {
			contador = 1;
			$('nav').animate({
				left: '-100%'
			});
		}
	});
 
	// Mostramos y ocultamos submenus
	$('.submenu').click(function(){
		$(this).children('.children').slideToggle();
	});
}
</script>

<script charset="utf-8">   
   var actReq;
   var actReqS;
   var actReqR;
   var actReqHora;
	window.onload = function () {
		document.getElementById("datos").innerHTML = "";
		document.getElementById("datos2").innerHTML = "";
      setInterval(function () { procesarPagina('data.html', actReq, getData, true) }, 200)
      procesarPagina('data.html', actReq, getData, false);
      
      setInterval(function () { procesarPagina('serial.html', actReqS, getSerial, true) }, 200)
      procesarPagina('serial.html', actReqS, getSerial, false);
      
      setInterval(function () { procesarPagina('reporte.html', actReqR, getReporte, true) }, 200)
      procesarPagina('reporte.html', actReqR, getReporte, false);
      
      setInterval(function () { procesarPagina('hora.html', actReqHora, getHora, true) }, 200)
      procesarPagina('hora.html', actReqHora, getHora, false);
   }
   
   function procesarPagina(url, req, fn, async) {
            // Most browser support
            if (window.XMLHttpRequest) {
                req = new XMLHttpRequest();
            }
            // IE5, IE6 support
            else if (window.ActiveXObject) {
                req = new ActiveXObject("Microsoft.XMLHTTP");
            }
            if (req != null) {
                req.onreadystatechange = function () { fn(req); };
                req.open("GET", url, async);
                req.send(null);
            }
            else {
                alert("Browser not supported");
            }
        }
   
   function getData(req) {
            if (req.readyState == 4) { // Complete
                if (req.status == 200) { // OK response
                    document.getElementById("datos").innerHTML = req.responseText;
                }
            }
        }
        
    function getSerial(req) {
            if (req.readyState == 4) { // Complete
                if (req.status == 200) { // OK response
                	document.getElementById("datos2").innerHTML = ""
                    document.getElementById("datos2").innerHTML = req.responseText;
                }
            }
        }
        
    function getReporte(req) {
            if (req.readyState == 4) { // Complete
                if (req.status == 200) { // OK response
                	document.getElementById("datos3").innerHTML = ""
                    document.getElementById("datos3").innerHTML = req.responseText;
                }
            }
        }
        
        function getHora(req) {
            if (req.readyState == 4) { // Complete
                if (req.status == 200) { // OK response
                	document.getElementById("hora").innerHTML = ""
                    document.getElementById("hora").innerHTML = req.responseText;
                }
            }
        }
   
</script>
</html>